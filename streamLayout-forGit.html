<!DOCTYPE html>
<html lang="en">

<head>
  <title>Stream Layout</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./css/layout.css">
  <link rel="stylesheet" href="./css/titleTexts.css">
  <link rel="stylesheet" href="./css/interactiveOptions.css">
  <link rel="stylesheet" href="./css/sideArea.css">
</head>

<body>
<div id="container">
  <div id="layoutFrame"></div>
  <div id="titleTexts">
    <input class="title" type="text" placeholder="">
    <input class="object" type="text" placeholder="">
  </div>
  <!-- <div id="currentTime" class="nodisplay"></div> -->
  <div id="interactiveOptions">
    <div id="sceneListContainer">
      <ul id="sceneList"></ul>
    </div>
    <template id="sceneEntry">
      <li>
        <span class="title"></span>
        <button></button>
        <button></button>
      </li>
    </template>
    <div id="shakeThresholdControl">
      <input type="text" placeholder="88,96,104,112,120">
      <div class="meterDisplay">
          <span class="ruler">
            <svg viewBox="0 0 200 16" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="blueToRed">
                  <stop offset="5%"  stop-color="#65849f"></stop>
                  <stop offset="95%" stop-color="#9d6265"></stop>
                </linearGradient>
                <marker id="rulerBar" viewBox="0 0 2 16" refX="1" refY="0" markerWidth="2" markerHeight="16">
                  <line x1="1" y1="0" x2="1" y2="16" stroke="#27333f"></line>
                </marker>
              </defs>
              
              <rect width="200" height="8" fill="url(#blueToRed)"></rect>
              <polyline points="1,0 20,0 40,0 60,0 80,0 100,0 120,0 140,0 160,0 180,0 199,0" fill="none" stroke="#27333F" marker-start="url(#rulerBar)" marker-mid="url(#rulerBar)" marker-end="url(#rulerBar)"></polyline>
            </svg>
            <span class="numbers">
              <span>0</span>
              <span>100</span>
              <span>200</span>
            </span>
          </span>
        <span class="meter"></span>
      </div>
    </div>
    <div id="alertDisplay"></div>
  </div>
  <div id="sideArea">
    <img id="sideImage" class="side4x3" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" alt="Side Image Area">
    <label for="sideText" class="nodisplay">Side Text Area</label>
    <textarea id="sideText" class="side2x3 noresize"></textarea>
  </div>
  <iframe id="chatBox" src="WEB_CHAT_APP_ADDRESS"></iframe>
</div>
</body>

<script src="./js/getQueryVariable.js"></script>
<script>
  const scene = getQueryVariable('scene')
  
  const layoutContainer = document.getElementById('container')
  layoutContainer.setAttribute('class', scene)
</script>

<script src="./js/DomVuShaker.js"></script>
<script>
  const layoutShaker = new DomVuShaker({
    targetDom: layoutContainer
  }, {
    dom: document.querySelector('#shakeThresholdControl .meterDisplay .meter'),
    property: 'width'
  })
  layoutShaker.applyShaking(layoutContainer)
</script>

<script src="./js/InputFocusCycler.js"></script>
<script src="./js/InputFocusCyclerWithStorage.js"></script>
<script>
  const inputArray = [
    document.querySelector('#titleTexts .title'),
    document.querySelector('#titleTexts .object')
  ]
  const titleFocusCycler = new InputFocusCyclerWithStorage(inputArray, 13) // keycode 13 = ENTER
  titleFocusCycler.applyCycling()
</script>

<!-- <script src="./js/ClockDisplay.js"></script>
<script src="./js/CurrentTimeDisplay.js"></script>
<script>
  const clockSettings = {
    'dom': document.getElementById('currentTime'),
    'separator': ':',
    'updateInterval': 250
  }
  const currentTime = new CurrentTimeDisplay(...Object.values(clockSettings))
  currentTime.autoUpdate()
</script> -->

</html>
