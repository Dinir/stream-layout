<!DOCTYPE html>
<html>

<head>
  <title>Stream Layout</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="./css/layout.css">
  <link rel="stylesheet" href="./css/titleTexts.css">
  <link rel="stylesheet" href="./css/currentTime.css">
  <link rel="stylesheet" href="./css/chatBox.css">
</head>

<body>
  <div class="container">
    <div class="titleTexts">
      <input class="title" type="text" placeholder="">
      <input class="object" type="text" placeholder="">
    </div>
    <div class="currentTime"></div>
    <iframe id="chatBox" src="WEB_CHAT_APP_ADDRESS"></iframe>
  </div>
</body>

<script src="./js/getQueryVariable.js"></script>
<script>
  const scene = getQueryVariable('scene')

  const layoutContainer = document.getElementsByClassName('container')[0]
  layoutContainer.setAttribute('class', `${layoutContainer.getAttribute('class')} ${scene}`)
</script>

<script src="./js/shakeUsingMic.js"></script>
<script>
  shaker.applyShaking(layoutContainer)
</script>

<script src="./js/InputFocusCycler.js"></script>
<script src="./js/InputFocusCyclerWithCookies.js"></script>
<script>
  const inputArray = [
    document.querySelector('.titleTexts .title'),
    document.querySelector('.titleTexts .object')
  ]
  const titleFocusCycler = new InputFocusCyclerWithCookies(inputArray, 13) // keycode 13 = ENTER
  titleFocusCycler.applyCycling()
</script>

<script src="./js/ClockDisplay.js"></script>
<script src="./js/CurrentTimeDisplay.js"></script>
<script>
  const clockSettings = {
    'dom': document.getElementsByClassName('currentTime')[0],
    'separator': ':',
    'updateInterval': 250
  }
  const currentTime = new CurrentTimeDisplay(...Object.values(clockSettings))
  currentTime.autoUpdate()
</script>

</html>
